var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var aspromise=asPromise$1;function asPromise$1(c,d){for(var n=new Array(arguments.length-1),u=0,t=2,h=!0;t<arguments.length;)n[u++]=arguments[t++];return new Promise(function(l,i){n[u]=function(o){if(h)if(h=!1,o)i(o);else{for(var g=new Array(arguments.length-1),f=0;f<g.length;)g[f++]=arguments[f];l.apply(null,g)}};try{c.apply(d||null,n)}catch(e){h&&(h=!1,i(e))}})}var base64={};(function(c){var d=c;d.length=function(l){var i=l.length;if(!i)return 0;for(var e=0;--i%4>1&&l.charAt(i)==="=";)++e;return Math.ceil(l.length*3)/4-e};for(var n=new Array(64),u=new Array(123),t=0;t<64;)u[n[t]=t<26?t+65:t<52?t+71:t<62?t-4:t-59|43]=t++;d.encode=function(l,i,e){for(var o=null,g=[],f=0,v=0,y;i<e;){var E=l[i++];switch(v){case 0:g[f++]=n[E>>2],y=(E&3)<<4,v=1;break;case 1:g[f++]=n[y|E>>4],y=(E&15)<<2,v=2;break;case 2:g[f++]=n[y|E>>6],g[f++]=n[E&63],v=0;break}f>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,g)),f=0)}return v&&(g[f++]=n[y],g[f++]=61,v===1&&(g[f++]=61)),o?(f&&o.push(String.fromCharCode.apply(String,g.slice(0,f))),o.join("")):String.fromCharCode.apply(String,g.slice(0,f))};var h="invalid encoding";d.decode=function(l,i,e){for(var o=e,g=0,f,v=0;v<l.length;){var y=l.charCodeAt(v++);if(y===61&&g>1)break;if((y=u[y])===void 0)throw Error(h);switch(g){case 0:f=y,g=1;break;case 1:i[e++]=f<<2|(y&48)>>4,f=y,g=2;break;case 2:i[e++]=(f&15)<<4|(y&60)>>2,f=y,g=3;break;case 3:i[e++]=(f&3)<<6|y,g=0;break}}if(g===1)throw Error(h);return e-o},d.test=function(l){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(l)}})(base64);const r=getDefaultExportFromCjs(base64);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(d,n,u){return(this._listeners[d]||(this._listeners[d]=[])).push({fn:n,ctx:u||this}),this};EventEmitter.prototype.off=function(d,n){if(d===void 0)this._listeners={};else if(n===void 0)this._listeners[d]=[];else for(var u=this._listeners[d],t=0;t<u.length;)u[t].fn===n?u.splice(t,1):++t;return this};EventEmitter.prototype.emit=function(d){var n=this._listeners[d];if(n){for(var u=[],t=1;t<arguments.length;)u.push(arguments[t++]);for(t=0;t<n.length;)n[t].fn.apply(n[t++].ctx,u)}return this};var float=factory(factory);function factory(c){return typeof Float32Array<"u"?function(){var d=new Float32Array([-0]),n=new Uint8Array(d.buffer),u=n[3]===128;function t(i,e,o){d[0]=i,e[o]=n[0],e[o+1]=n[1],e[o+2]=n[2],e[o+3]=n[3]}function h(i,e,o){d[0]=i,e[o]=n[3],e[o+1]=n[2],e[o+2]=n[1],e[o+3]=n[0]}c.writeFloatLE=u?t:h,c.writeFloatBE=u?h:t;function a(i,e){return n[0]=i[e],n[1]=i[e+1],n[2]=i[e+2],n[3]=i[e+3],d[0]}function l(i,e){return n[3]=i[e],n[2]=i[e+1],n[1]=i[e+2],n[0]=i[e+3],d[0]}c.readFloatLE=u?a:l,c.readFloatBE=u?l:a}():function(){function d(u,t,h,a){var l=t<0?1:0;if(l&&(t=-t),t===0)u(1/t>0?0:2147483648,h,a);else if(isNaN(t))u(2143289344,h,a);else if(t>34028234663852886e22)u((l<<31|2139095040)>>>0,h,a);else if(t<11754943508222875e-54)u((l<<31|Math.round(t/1401298464324817e-60))>>>0,h,a);else{var i=Math.floor(Math.log(t)/Math.LN2),e=Math.round(t*Math.pow(2,-i)*8388608)&8388607;u((l<<31|i+127<<23|e)>>>0,h,a)}}c.writeFloatLE=d.bind(null,writeUintLE),c.writeFloatBE=d.bind(null,writeUintBE);function n(u,t,h){var a=u(t,h),l=(a>>31)*2+1,i=a>>>23&255,e=a&8388607;return i===255?e?NaN:l*(1/0):i===0?l*1401298464324817e-60*e:l*Math.pow(2,i-150)*(e+8388608)}c.readFloatLE=n.bind(null,readUintLE),c.readFloatBE=n.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var d=new Float64Array([-0]),n=new Uint8Array(d.buffer),u=n[7]===128;function t(i,e,o){d[0]=i,e[o]=n[0],e[o+1]=n[1],e[o+2]=n[2],e[o+3]=n[3],e[o+4]=n[4],e[o+5]=n[5],e[o+6]=n[6],e[o+7]=n[7]}function h(i,e,o){d[0]=i,e[o]=n[7],e[o+1]=n[6],e[o+2]=n[5],e[o+3]=n[4],e[o+4]=n[3],e[o+5]=n[2],e[o+6]=n[1],e[o+7]=n[0]}c.writeDoubleLE=u?t:h,c.writeDoubleBE=u?h:t;function a(i,e){return n[0]=i[e],n[1]=i[e+1],n[2]=i[e+2],n[3]=i[e+3],n[4]=i[e+4],n[5]=i[e+5],n[6]=i[e+6],n[7]=i[e+7],d[0]}function l(i,e){return n[7]=i[e],n[6]=i[e+1],n[5]=i[e+2],n[4]=i[e+3],n[3]=i[e+4],n[2]=i[e+5],n[1]=i[e+6],n[0]=i[e+7],d[0]}c.readDoubleLE=u?a:l,c.readDoubleBE=u?l:a}():function(){function d(u,t,h,a,l,i){var e=a<0?1:0;if(e&&(a=-a),a===0)u(0,l,i+t),u(1/a>0?0:2147483648,l,i+h);else if(isNaN(a))u(0,l,i+t),u(2146959360,l,i+h);else if(a>17976931348623157e292)u(0,l,i+t),u((e<<31|2146435072)>>>0,l,i+h);else{var o;if(a<22250738585072014e-324)o=a/5e-324,u(o>>>0,l,i+t),u((e<<31|o/4294967296)>>>0,l,i+h);else{var g=Math.floor(Math.log(a)/Math.LN2);g===1024&&(g=1023),o=a*Math.pow(2,-g),u(o*4503599627370496>>>0,l,i+t),u((e<<31|g+1023<<20|o*1048576&1048575)>>>0,l,i+h)}}}c.writeDoubleLE=d.bind(null,writeUintLE,0,4),c.writeDoubleBE=d.bind(null,writeUintBE,4,0);function n(u,t,h,a,l){var i=u(a,l+t),e=u(a,l+h),o=(e>>31)*2+1,g=e>>>20&2047,f=4294967296*(e&1048575)+i;return g===2047?f?NaN:o*(1/0):g===0?o*5e-324*f:o*Math.pow(2,g-1075)*(f+4503599627370496)}c.readDoubleLE=n.bind(null,readUintLE,0,4),c.readDoubleBE=n.bind(null,readUintBE,4,0)}(),c}function writeUintLE(c,d,n){d[n]=c&255,d[n+1]=c>>>8&255,d[n+2]=c>>>16&255,d[n+3]=c>>>24}function writeUintBE(c,d,n){d[n]=c>>>24,d[n+1]=c>>>16&255,d[n+2]=c>>>8&255,d[n+3]=c&255}function readUintLE(c,d){return(c[d]|c[d+1]<<8|c[d+2]<<16|c[d+3]<<24)>>>0}function readUintBE(c,d){return(c[d]<<24|c[d+1]<<16|c[d+2]<<8|c[d+3])>>>0}var inquire_1=inquire$1;function inquire$1(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(c){}return null}var utf8={};(function(c){var d=c;d.length=function(u){for(var t=0,h=0,a=0;a<u.length;++a)h=u.charCodeAt(a),h<128?t+=1:h<2048?t+=2:(h&64512)===55296&&(u.charCodeAt(a+1)&64512)===56320?(++a,t+=4):t+=3;return t},d.read=function(u,t,h){var a=h-t;if(a<1)return"";for(var l=null,i=[],e=0,o;t<h;)o=u[t++],o<128?i[e++]=o:o>191&&o<224?i[e++]=(o&31)<<6|u[t++]&63:o>239&&o<365?(o=((o&7)<<18|(u[t++]&63)<<12|(u[t++]&63)<<6|u[t++]&63)-65536,i[e++]=55296+(o>>10),i[e++]=56320+(o&1023)):i[e++]=(o&15)<<12|(u[t++]&63)<<6|u[t++]&63,e>8191&&((l||(l=[])).push(String.fromCharCode.apply(String,i)),e=0);return l?(e&&l.push(String.fromCharCode.apply(String,i.slice(0,e))),l.join("")):String.fromCharCode.apply(String,i.slice(0,e))},d.write=function(u,t,h){for(var a=h,l,i,e=0;e<u.length;++e)l=u.charCodeAt(e),l<128?t[h++]=l:l<2048?(t[h++]=l>>6|192,t[h++]=l&63|128):(l&64512)===55296&&((i=u.charCodeAt(e+1))&64512)===56320?(l=65536+((l&1023)<<10)+(i&1023),++e,t[h++]=l>>18|240,t[h++]=l>>12&63|128,t[h++]=l>>6&63|128,t[h++]=l&63|128):(t[h++]=l>>12|224,t[h++]=l>>6&63|128,t[h++]=l&63|128);return h-a}})(utf8);var pool_1=pool;function pool(c,d,n){var u=n||8192,t=u>>>1,h=null,a=u;return function(i){if(i<1||i>t)return c(i);a+i>u&&(h=c(u),a=0);var e=d.call(h,a,a+=i);return a&7&&(a=(a|7)+1),e}}var codegen_1=codegen;function codegen(c,d){typeof c=="string"&&(d=c,c=void 0);var n=[];function u(h){if(typeof h!="string"){var a=t();if(codegen.verbose&&console.log("codegen: "+a),a="return "+a,h){for(var l=Object.keys(h),i=new Array(l.length+1),e=new Array(l.length),o=0;o<l.length;)i[o]=l[o],e[o]=h[l[o++]];return i[o]=a,Function.apply(null,i).apply(null,e)}return Function(a)()}for(var g=new Array(arguments.length-1),f=0;f<g.length;)g[f]=arguments[++f];if(f=0,h=h.replace(/%([%dfijs])/g,function(y,E){var w=g[f++];switch(E){case"d":case"f":return String(Number(w));case"i":return String(Math.floor(w));case"j":return JSON.stringify(w);case"s":return String(w)}return"%"}),f!==g.length)throw Error("parameter count mismatch");return n.push(h),u}function t(h){return"function "+(h||d||"")+"("+(c&&c.join(",")||"")+`){
  `+n.join(`
  `)+`
}`}return u.toString=t,u}codegen.verbose=!1;var fetch_1=fetch,asPromise=aspromise,inquire=inquire_1,fs=inquire("fs");function fetch(c,d,n){return typeof d=="function"?(n=d,d={}):d||(d={}),n?!d.xhr&&fs&&fs.readFile?fs.readFile(c,function(t,h){return t&&typeof XMLHttpRequest<"u"?fetch.xhr(c,d,n):t?n(t):n(null,d.binary?h:h.toString("utf8"))}):fetch.xhr(c,d,n):asPromise(fetch,this,c,d)}fetch.xhr=function c(d,n,u){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState===4){if(t.status!==0&&t.status!==200)return u(Error("status "+t.status));if(n.binary){var a=t.response;if(!a){a=[];for(var l=0;l<t.responseText.length;++l)a.push(t.responseText.charCodeAt(l)&255)}return u(null,typeof Uint8Array<"u"?new Uint8Array(a):a)}return u(null,t.responseText)}},n.binary&&("overrideMimeType"in t&&t.overrideMimeType("text/plain; charset=x-user-defined"),t.responseType="arraybuffer"),t.open("GET",d),t.send()};var path={};(function(c){var d=c,n=d.isAbsolute=function(h){return/^(?:\/|\w+:)/.test(h)},u=d.normalize=function(h){h=h.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var a=h.split("/"),l=n(h),i="";l&&(i=a.shift()+"/");for(var e=0;e<a.length;)a[e]===".."?e>0&&a[e-1]!==".."?a.splice(--e,2):l?a.splice(e,1):++e:a[e]==="."?a.splice(e,1):++e;return i+a.join("/")};d.resolve=function(h,a,l){return l||(a=u(a)),n(a)?a:(l||(h=u(h)),(h=h.replace(/(?:\/|^)[^/]+$/,"")).length?u(h+"/"+a):a)}})(path);export{aspromise as a,base64 as b,commonjsGlobal as c,codegen_1 as d,eventemitter as e,float as f,getDefaultExportFromCjs as g,fetch_1 as h,inquire_1 as i,path as j,pool_1 as p,r,utf8 as u};
